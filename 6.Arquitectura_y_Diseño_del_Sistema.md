# 6\. Arquitectura y Diseño del Sistema

## Diagrama general de arquitectura
Texto de ejemplo…

## Definición de subsistemas

### \-Diagramas de Casos de Uso
Texto de ejemplo…

### \-Casos de uso especificados
Texto de ejemplo…

### \-Diagramas de actividad
Texto de ejemplo…

### \-Prototipado de la herramienta por subsistema
Texto de ejemplo…  


# Apartados
- [ ] Diagrama general de arquitectura
- [ ] Def por subsistema
	- [ ] Diag casos de uso espe
	- [ ] Cass de uuso especif
	- [ ] Diagrama de actividad
	- [ ] Prototipos/ Interfaz

# Interfaces
## Login/Registro
Misma pantalla para todos ls usuarios
Si el usuario utiliza cuennta ucm, se redirige cmoo estudinte y la autenficicación se asegura a traves de la UCM.
Los Ofertantes, deberán entrar con usuaris especificamnte verificads.
Admins van a parte, listra reservada

## Pág principal (diferent dep dl usuario)
### Estudiantes
Pagina rollo immobiliaria, una barra de busqueda con filtros (cercania campus, Grados(estudiantes dee la mmisma carrera), precio, opciones accesibilidad)
Luego un gran dropdoown de "Ofertas"
Las Ofertas tendran un aspcto. 
>[!Note]
>Las ofertas no son habitacionewes asiladas,, sino modelos dentro de un blque, en la ofertta se muestra cuantas eesatn libres/del total

- Posibles incorporaciones
	- Comunicación a traves de la pagina (chat)
	- Pago a  traves de la pagina (mismo servicio qu epago matricula?)
## Pag Dtallada de oferta
Ofrece ya si toda la informacion y mas fotos, video ... de la habitación
Informacion del sitio y info de contacto del propietario. Aparte de esto, igual una opcion para mandarle un correo d inteeresado directamente desde la app con correo UCM.

## Pag de Notificaciones
Pag alternativa, accesoo por barra superor boton.
Notificacines de alerta de ofertas neuvas por zona. 
Si te subscribees a un bloque de habitaciones, por cer4cania o conveniencia, notif si queda alguno nuevo libre o se va un estudiante y cede la hab.
Enn caso de denegación, si otro usuario coge el piso o cuslwuirt cosa.
Y esta visualmeente rollo correeo o Popup (con notificiacionese rollo campanita).
## Pag de Ajustes/ menu lateeral
- accesibilidad
- Idioma
- Personalizacion tema...


## Pag principal de Ofertantee
Similar a la dee estudiante, con tus ofertas rollo DashBoard. 
Panel notificaciones enetreantes y opciones para adinistrar las ofertas que trienes subidas (tanto mmodificar, eliminar o añadir habitacioonees).

Filtro por los tipos de habitacion que oferta
Y un dashbard con todas lass salas de ste tipo. Si estan ocupadas, sino, desde cuando, permanencia.. Flow base de datos.
### Notifciaciones
Ntifciaciones entrantes de estudiantres mandando oferta.Opciones del estilo de rechazar o contactar.
Psible esquema de colores:
- Verde hab libre
- Roo hab ocupada
- Ammarllo? hab pendiente de concretar si se ocupa (reservada).

# Subsistemas
Control Usario/Registro
Busqueda 
Mensajeria/Notificaciones
Base de dattos (las ofertas)
## Busqueda
### Caso Uso: Estudiante busca y solicita oferta
Login, pag prin, acceso filtros, mirar oferta, abrir descipcion oferta, contactar
### Diagrama de actividad
### Protootipo
## Notificaciones
### Ofertante acepta y gestiona ofertas
Lgin, pag dashboard, acceso nootificacioones, seleccin notificacion entrante, aceptar (see manda la forma de contacto externo), pasaria la habitacion a "Amarilloo".
### Diagrama de actividad
### Prototipo
# Interfaces

Nuestra aplicación cuenta con una serie de interfaces que facilitan la experiencia de usuario (UX). Estas interfaces están interconectadas entre sí, y dependiendo del caso de uso, será necesario navegar entre ellas. Cada una de estas interfaces está diseñada para ofrecer la mejor experiencia posible según el rol del usuario, ya sea estudiante o propietario. A continuación, se describen las principales interfaces que forman parte de la aplicación.

## Interfaz de Inicio
Esta es la interfaz inicial que ve todo usuario al abrir nuestra aplicación. Su función principal es verificar los datos de registro del usuario y, en caso de ser un usuario registrado, permitirle el acceso.
![Registro](./Imagenes/InterfazRegistro.png)
### Descripción
La interfaz cuenta con un sencillo inicio de sesión, pidiendo al usuario que introduzca su correo y contraseña. Se pueden distinguir dos tipos de usuario al iniciar sesión:
- **Estudiantes**: Cuentan con un correo universitario verificado.
- **Propietarios**: Necesitan haber creado una cuenta previamente, habiendo llegado a un acuerdo con la universidad en cuestión.
En el caso de que un estudiante no tenga una cuenta registrada, deberá introducir su correo y seleccionar la opción de *registrarse*, lo que enviará un correo a su dirección académica para verificar su registro. Una vez introducidos los datos correctos, dependiendo de si se trata de un correo universitario o de propietario, el usuario será redirigido a la interfaz que le corresponda. 
- Los estudiantes serán dirigidos a la interfaz de [Búsqueda de piso](./6.Arquitectura_y_Diseño_del_Sistema.md#Interfaz_Búsqueda).
- Los propietarios serán dirigidos a la interfaz de [Propietarios](./6.Arquitectura_y_Diseño_del_Sistema.md#Interfaz_Búsqueda).
### Casos de uso
Esta es una lista de los casos de uso desarrollados en esta interfaz:
- Registro de Usuario.
- Inicio de Sesión.
- Verificación de los datos mediante la UCM.

## Interfaz Principal
La interfaz principal solo puede ser accedida por los estudiantes registrados en la aplicación. Esta interfaz muestra la oferta de habitaciones disponibles.
![Pricipal](./Imagenes/InterfazPrincipal.png)
### Descripción
La interfaz cuenta con una barra superior donde encontramos un icono de notificaciones a la izquierda, y un icono de usuario a la derecha. El icono de notificaciones muestra una lista de las notificaciones entrantes para el usuario. Estas pueden ser la aceptación o denegación de una habitación o la aparición de nuevas habitaciones en la aplicación. 
El icono de usuario muestra un menú donde se pueden seleccionar distintas opciones de accesibilidad o cerrar sesión. 

Bajo la barra superior, encontramos la sección de búsqueda. Esta cuenta con una barra de búsqueda por nombre y un menú seleccionador de filtros, entre los que encontramos: 
- Filtros por campus o zona de la habitación.
- Precios máximos y mínimos por habitación.
- Opciones de accesibilidad como ascensores o transporte público cercano.
- Filtro por carreras, seleccionando habitaciones en edificios donde se hospedan estudiantes de la carrera del usuario.
Los filtros seleccionados se muestran a la derecha, en píldoras, con un botón para eliminar el filtro. 

El resto de la interfaz contiene las ofertas resultantes tras aplicar los filtros seleccionados. Estas habitaciones se muestran con fotos, una breve descripción de la oferta y un "iframe" con la ubicación de la habitación en un mapa. 
Al hacer clic en una de estas ofertas, se abrirá una vista más detallada de la respectiva habitación, la [Interfaz detallada](./6.Arquitectura_y_Diseño_del_Sistema.md#Interfaz_Detallada).
### Casos de uso
Esta es una lista de los casos de uso desarrollados en esta interfaz:
- Buscar oferta.
- Filtrar ofertas mediante los filtros mencionados.
- Ajustes de cuenta
- Cerrar sesión
- Visualizar notificaciones

## Interfaz Detallada
La interfaz detallada ofrece toda la información relativa a una habitación ofertada. Es desde esta interfaz desde la que un estudiante, en caso de interesarse por una habitación, puede ponerse en contacto con el propietario.
![Detallada](./Imagenes/InterfazDetallada.png)
### Descripción
Esta interfaz se puede dividir en tres apartados principales:
1. **Carrusel de imágenes**: El primer apartado es un carrusel con fotografías de la habitación, el edificio donde se encuentra y sus instalaciones.
2. **Descripción detallada**: La segunda sección contiene una serie de párrafos donde se describe en detalle la oferta, incluyendo tanto las características físicas de la habitación y los utensilios o electrodomésticos con los que está equipada, como los servicios externos disponibles. Entre estos servicios se encuentran la lavandería o un servicio de cantina para estudiantes entre semana. También se incluye un mapa para ver la ubicación precisa del edificio y su cercanía al campus.
3. **Precio y contacto**: Por último, en la parte inferior se encuentra la sección con el precio del alquiler, que ha sido previamente verificado y ajustado por la universidad, y un método de contacto con el propietario de la habitación. Este último puede recibir un mensaje con nuestro interés al hacer clic en el botón en la parte inferior de la página.
>[!note]
>En caso de que ya haya una oferta de otro estudiante por la habitación, se incluiría una opción de suscripción a la habitación, que notificará al estudiante en caso de que esa oferta anterior sea rechazada.
### Casos de Uso
Esta es una lista de los casos de uso desarrollados en esta interfaz:
- Visualizar detalles de una oferta.
- Contactar con el propietario de la habitación.
- Suscribirse a una alerta para la habitación.

## Interfaz Propietario
La interfaz de propietario es la que acceden los propietarios una vez han sido verificados al iniciar sesión. Su objetivo principal es la gestión y visualización de las habitaciones que el propietario tiene ofertadas en la aplicación.
![Propietario](./Imagenes/InterfazHabitaciones.png)
### Detalles
Esta interfaz cuenta con el mismo menú superior que la interfaz principal de los estudiantes, lo que permite acceder a las notificaciones entrantes, cambiar los ajustes de la cuenta y cerrar sesión.
La parte principal de la interfaz tiene un formato de *Dashboard*, que muestra una tabla con todas las habitaciones que el propietario tiene ofertadas en la aplicación.
También se incluyen opciones de filtro para seleccionar qué información se muestra en cada fila de la tabla, así como la posibilidad de ordenar las habitaciones según diferentes criterios.
Para cada habitación se muestra su nombre y su estado de ocupación. Las habitaciones pueden estar:
- **Libres**: Si nadie está alquilándola actualmente.
- **Ocupadas**: Si un estudiante está residiendo en ella.
- **En trámite**: Si la habitación está en proceso de ser alquilada.
Si el propietario selecciona cualquiera de las filas, se mostrará una [vista detallada](./6.Arquitectura_y_Diseño_del_Sistema.md#Interfaz_Detallada) de la habitación.
Los propietarios también pueden eliminar, modificar o añadir nuevas ofertas desde esta interfaz.
### Casos de Uso
Esta es una lista de los casos de uso desarrollados en esta interfaz:
- Ver información de las habitaciones y los residentes.
- Añadir o modificar una oferta.
- Gestionar solicitudes mediante las notificaciones.
- 

### 1. Especificación del Caso de Uso : Buscar y solicitar oferta.
	Identificador: CU-01 (o el número que toque)
	Nombre: Buscar y Solicitar Oferta de Alojamiento
	Actores:
		● Actor Principal: Alumno UCM.
		● Actor Secundario: Sistema (Base de Datos).
	Descripción: El alumno busca alojamiento utilizando filtros específicos, consulta los
		detalles de una vivienda y contacta con el ofertante para mostrar interés.
	Precondiciones:
		El usuario necesitahaber iniciado sesión.
	Postcondiciones:
		La oferta queda marcada como "Con solicitud pendiente" para ese usuario.
		El Ofertante tiene una nueva notificación en su dashboard.

![Diagrama de actividad](./Imagenes/D.Act_BuscarySolicitar.png)
